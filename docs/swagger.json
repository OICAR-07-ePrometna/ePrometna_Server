{
    "swagger": "2.0",
    "info": {
        "contact": {}
    },
    "paths": {
        "/auth/login": {
            "post": {
                "description": "Authenticates a user and returns access and refresh tokens",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "User login",
                "parameters": [
                    {
                        "description": "Login credentials",
                        "name": "loginDto",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.LoginDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.TokenDto"
                        }
                    }
                }
            }
        },
        "/auth/refresh": {
            "post": {
                "description": "Generates a new access token using a valid refresh token",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "auth"
                ],
                "summary": "Refresh Access Token",
                "parameters": [
                    {
                        "description": "Refresh Token",
                        "name": "refreshToken",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.TokenDto"
                        }
                    }
                }
            }
        },
        "/user": {
            "post": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Create new user",
                "parameters": [
                    {
                        "description": "Data for new user",
                        "name": "model",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.NewUserDto"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/dto.UserDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/user/all-users": {
            "get": {
                "description": "Fetches all users for superadmin",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Get all users for superadmin",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.UserDto"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/user/my-data": {
            "get": {
                "description": "Fetches the currently logged-in user's data based on the JWT token",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Get logged-in user data",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.UserDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/user/police-officers": {
            "get": {
                "description": "Fetches all police officers for MUP Admin",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Get all police officers for MUP Admin",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.UserDto"
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/user/search": {
            "get": {
                "description": "Performs a fuzzy search for users by first name, last name, or full name with similarity matching",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Search users by name",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Search query",
                        "name": "query",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.UserDto"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/user/{uuid}": {
            "get": {
                "description": "get a user with uuid",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "get user with uuid",
                "parameters": [
                    {
                        "type": "string",
                        "description": "user uuid",
                        "name": "uuid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.UserDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            },
            "put": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "Update user with new dat",
                "parameters": [
                    {
                        "type": "string",
                        "description": "uuid of user to be updated",
                        "name": "uuid",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Data for updating user",
                        "name": "model",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UserDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.UserDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            },
            "delete": {
                "description": "delete a user with uuid",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "delete user with uuid",
                "parameters": [
                    {
                        "type": "string",
                        "description": "user uuid",
                        "name": "uuid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/vehicle": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "vehicle"
                ],
                "summary": "Gets your vehicles",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/dto.VehicleDto"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            },
            "post": {
                "description": "Create new vehicle with an owner",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "vehicle"
                ],
                "summary": "Creates new vehicle",
                "parameters": [
                    {
                        "description": "Vehicle model",
                        "name": "model",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.NewVehicleDto"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/dto.VehicleDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/vehicle/{uuid}": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "vehicle"
                ],
                "summary": "Gets a vehicle with uuid",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Vehicle UUID",
                        "name": "uuid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/dto.VehicleDetailsDto"
                        }
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            },
            "delete": {
                "description": "Preforms a soft delete",
                "tags": [
                    "vehicle"
                ],
                "summary": "Soft delete on vehicle",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Vehicle UUID",
                        "name": "uuid",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "400": {
                        "description": "Bad Request"
                    },
                    "404": {
                        "description": "Not Found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        }
    },
    "definitions": {
        "dto.LoginDto": {
            "type": "object",
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string",
                    "minLength": 6
                }
            }
        },
        "dto.NewUserDto": {
            "type": "object",
            "required": [
                "birthDate",
                "email",
                "firstName",
                "lastName",
                "oib",
                "password",
                "residence",
                "role"
            ],
            "properties": {
                "birthDate": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "firstName": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 2
                },
                "lastName": {
                    "type": "string",
                    "maxLength": 100,
                    "minLength": 2
                },
                "oib": {
                    "type": "string"
                },
                "password": {
                    "type": "string",
                    "minLength": 6
                },
                "residence": {
                    "type": "string",
                    "maxLength": 255
                },
                "role": {
                    "type": "string",
                    "enum": [
                        "hak",
                        "mupadmin",
                        "osoba",
                        "firma",
                        "policija",
                        "superadmin"
                    ]
                },
                "uuid": {
                    "type": "string"
                }
            }
        },
        "dto.NewVehicleDto": {
            "type": "object",
            "properties": {
                "additionalTireSizes": {
                    "description": "Dodatne dimenzije guma // (15)",
                    "type": "string"
                },
                "bodyShape": {
                    "description": "Oblik karoserije // (2)",
                    "type": "string"
                },
                "chassisNumber": {
                    "description": "Broj šasije // E",
                    "type": "string"
                },
                "co2Emissions": {
                    "description": "Emisija CO2 // V7",
                    "type": "string"
                },
                "colourOfVehicle": {
                    "description": "Boja vozila // R",
                    "type": "string"
                },
                "dateFirstRegistration": {
                    "description": "Datum prve registracije // B",
                    "type": "string"
                },
                "ecCategory": {
                    "description": "EC kategorija // V9",
                    "type": "string"
                },
                "engineCapacity": {
                    "description": "Obujam motora // P1",
                    "type": "string"
                },
                "enginePower": {
                    "description": "Snaga motora // P2",
                    "type": "string"
                },
                "engineSpeedForStationaryNoiseTest": {
                    "description": "Broj okretaja motora pri ispitivanju buke u stacionarnom stanju // U2",
                    "type": "string"
                },
                "firstRegistrationInCroatia": {
                    "description": "Prva registracija u Hrvatskoj // (4)",
                    "type": "string"
                },
                "fuelOrPowerSource": {
                    "description": "Gorivo ili izvor energije // P3",
                    "type": "string"
                },
                "height": {
                    "description": "Visina // (8)",
                    "type": "string"
                },
                "homologationType": {
                    "description": "Homologacijski tip // D2",
                    "type": "string"
                },
                "length": {
                    "description": "Dužina // (6)",
                    "type": "string"
                },
                "mark": {
                    "description": "Marka // D1",
                    "type": "string"
                },
                "maximumNetPower": {
                    "description": "Najveća neto snaga // T",
                    "type": "string"
                },
                "mb": {
                    "description": "MB (pretpostavka: proizvođač) // (13)",
                    "type": "string"
                },
                "model": {
                    "description": "Model // (14)",
                    "type": "string"
                },
                "numberOfAxles": {
                    "description": "Broj osovina // L",
                    "type": "string"
                },
                "numberOfDrivenAxles": {
                    "description": "Broj pogonskih osovina // (9)",
                    "type": "string"
                },
                "numberOfSeats": {
                    "description": "Broj sjedala // S1",
                    "type": "string"
                },
                "ownerUuid": {
                    "type": "string"
                },
                "permissibleMaximumLadenMass": {
                    "description": "Dopuštena najveća masa // F2",
                    "type": "string"
                },
                "permissiblePayload": {
                    "description": "Dopuštena nosivost // (5)",
                    "type": "string"
                },
                "ratedEngineSpeed": {
                    "description": "Nazivni broj okretaja motora // P4",
                    "type": "string"
                },
                "registration": {
                    "type": "string"
                },
                "stationaryNoiseLevel": {
                    "description": "Razina buke u stacionarnom stanju // U1",
                    "type": "string"
                },
                "technicallyPermissibleMaximumLadenMass": {
                    "description": "Tehnički dopuštena najveća masa // F1",
                    "type": "string"
                },
                "tireSize": {
                    "description": "Dimenzije guma // (11)",
                    "type": "string"
                },
                "tradeName": {
                    "description": "Trgovački naziv // D3",
                    "type": "string"
                },
                "traveledDistance": {
                    "type": "integer"
                },
                "typeApprovalNumber": {
                    "description": "Broj homologacije // K",
                    "type": "string"
                },
                "uniqueModelCode": {
                    "description": "Jedinstvena oznaka modela // (12)",
                    "type": "string"
                },
                "unladenMass": {
                    "description": "Masa praznog vozila // G",
                    "type": "string"
                },
                "vehicleCategory": {
                    "description": "Kategorija vozila // J",
                    "type": "string"
                },
                "vehicleType": {
                    "description": "Tip vozila (16) // (16)",
                    "type": "string"
                },
                "vehicleUse": {
                    "description": "Namjena vozila // (3)",
                    "type": "string"
                },
                "width": {
                    "description": "Širina // (7)",
                    "type": "string"
                }
            }
        },
        "dto.TokenDto": {
            "type": "object",
            "properties": {
                "accessToken": {
                    "type": "string"
                },
                "refreshToken": {
                    "type": "string"
                }
            }
        },
        "dto.UserDto": {
            "type": "object",
            "properties": {
                "birthDate": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "firstName": {
                    "type": "string"
                },
                "lastName": {
                    "type": "string"
                },
                "oib": {
                    "type": "string"
                },
                "residence": {
                    "type": "string"
                },
                "role": {
                    "type": "string"
                },
                "uuid": {
                    "type": "string"
                }
            }
        },
        "dto.VehicleDetailsDto": {
            "type": "object",
            "properties": {
                "additionalTireSizes": {
                    "description": "Dodatne dimenzije guma // (15)",
                    "type": "string"
                },
                "bodyShape": {
                    "description": "Oblik karoserije // (2)",
                    "type": "string"
                },
                "chassisNumber": {
                    "description": "Broj šasije // E",
                    "type": "string"
                },
                "co2Emissions": {
                    "description": "Emisija CO2 // V7",
                    "type": "string"
                },
                "colourOfVehicle": {
                    "description": "Boja vozila // R",
                    "type": "string"
                },
                "dateFirstRegistration": {
                    "description": "Datum prve registracije // B",
                    "type": "string"
                },
                "drivers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.UserDto"
                    }
                },
                "ecCategory": {
                    "description": "EC kategorija // V9",
                    "type": "string"
                },
                "engineCapacity": {
                    "description": "Obujam motora // P1",
                    "type": "string"
                },
                "enginePower": {
                    "description": "Snaga motora // P2",
                    "type": "string"
                },
                "engineSpeedForStationaryNoiseTest": {
                    "description": "Broj okretaja motora pri ispitivanju buke u stacionarnom stanju // U2",
                    "type": "string"
                },
                "firstRegistrationInCroatia": {
                    "description": "Prva registracija u Hrvatskoj // (4)",
                    "type": "string"
                },
                "fuelOrPowerSource": {
                    "description": "Gorivo ili izvor energije // P3",
                    "type": "string"
                },
                "height": {
                    "description": "Visina // (8)",
                    "type": "string"
                },
                "homologationType": {
                    "description": "Homologacijski tip // D2",
                    "type": "string"
                },
                "length": {
                    "description": "Dužina // (6)",
                    "type": "string"
                },
                "mark": {
                    "description": "Marka // D1",
                    "type": "string"
                },
                "maximumNetPower": {
                    "description": "Najveća neto snaga // T",
                    "type": "string"
                },
                "mb": {
                    "description": "MB (pretpostavka: proizvođač) // (13)",
                    "type": "string"
                },
                "model": {
                    "description": "Model // (14)",
                    "type": "string"
                },
                "numberOfAxles": {
                    "description": "Broj osovina // L",
                    "type": "string"
                },
                "numberOfDrivenAxles": {
                    "description": "Broj pogonskih osovina // (9)",
                    "type": "string"
                },
                "numberOfSeats": {
                    "description": "Broj sjedala // S1",
                    "type": "string"
                },
                "owner": {
                    "$ref": "#/definitions/dto.UserDto"
                },
                "pastOwners": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.UserDto"
                    }
                },
                "permissibleMaximumLadenMass": {
                    "description": "Dopuštena najveća masa // F2",
                    "type": "string"
                },
                "permissiblePayload": {
                    "description": "Dopuštena nosivost // (5)",
                    "type": "string"
                },
                "productionYear": {
                    "type": "integer"
                },
                "ratedEngineSpeed": {
                    "description": "Nazivni broj okretaja motora // P4",
                    "type": "string"
                },
                "registration": {
                    "type": "string"
                },
                "stationaryNoiseLevel": {
                    "description": "Razina buke u stacionarnom stanju // U1",
                    "type": "string"
                },
                "technicallyPermissibleMaximumLadenMass": {
                    "description": "Tehnički dopuštena najveća masa // F1",
                    "type": "string"
                },
                "tireSize": {
                    "description": "Dimenzije guma // (11)",
                    "type": "string"
                },
                "tradeName": {
                    "description": "Trgovački naziv // D3",
                    "type": "string"
                },
                "typeApprovalNumber": {
                    "description": "Broj homologacije // K",
                    "type": "string"
                },
                "uniqueModelCode": {
                    "description": "Jedinstvena oznaka modela // (12)",
                    "type": "string"
                },
                "unladenMass": {
                    "description": "Masa praznog vozila // G",
                    "type": "string"
                },
                "uuid": {
                    "type": "string"
                },
                "vehicleCategory": {
                    "description": "Kategorija vozila // J",
                    "type": "string"
                },
                "vehicleType": {
                    "description": "Tip vozila (16) // (16)",
                    "type": "string"
                },
                "vehicleUse": {
                    "description": "Namjena vozila // (3)",
                    "type": "string"
                },
                "width": {
                    "description": "Širina // (7)",
                    "type": "string"
                }
            }
        },
        "dto.VehicleDto": {
            "type": "object",
            "properties": {
                "allowedTo": {
                    "description": "NOTE: can be date or empty if empty then it is allowed forever",
                    "type": "string"
                },
                "registration": {
                    "type": "string"
                },
                "uuid": {
                    "type": "string"
                },
                "vehicleModel": {
                    "type": "string"
                },
                "vehicleType": {
                    "type": "string"
                }
            }
        }
    }
}